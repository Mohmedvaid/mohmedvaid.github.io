{"version":3,"file":"static/js/223.7c52d686.chunk.js","mappings":"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","sources":["config/fun.js","components/HandGesture/DetectedFingers.jsx","components/HandGesture/getExtendedFingers.js","components/HandGesture/getFingerGestureGif.js","components/HandGesture/index.jsx","pages/Fun.jsx"],"sourcesContent":["const readTimer = 2000; // 2 seconds\nconst readTimerInSec = readTimer / 1000;\nconst videoPermissionDeniedMessage = `Video camera access needed.`;\nconst detectionNotice = `Detection runs every ${readTimerInSec} second for CPU efficiency. Please be patient.`;\nconst funActiviyPrivacyNotice = `Explore the fun of AI with this Hand Gesture Detection! Just wave your hand in front of the camera to interact with the screen. Experience real-time AI recognition with full privacy â€“ no data is saved or tracked. Enjoy!`;\n\nmodule.exports = {\n  readTimer,\n  videoPermissionDeniedMessage,\n  detectionNotice,\n  funActiviyPrivacyNotice,\n};\n","import React, { memo } from \"react\";\nimport Box from \"@mui/material/Box\";\nimport Typography from \"@mui/material/Typography\";\n\n// disable interaction on iframe\nconst styles = {\n  iframeWrapper: {\n    position: \"relative\",\n    width: \"100%\",\n    height: \"300px\",\n  },\n  overlay: {\n    position: \"absolute\",\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    zIndex: 1,\n    cursor: \"default\",\n  },\n};\n\nconst DetectedFingers = memo(\n  ({ fingers, gifUrl }) => {\n    return (\n      <Box>\n        <Typography textAlign=\"center\" gutterBottom>\n          {fingers.length === 0 ? \"No fingers detected on camera\" : fingers.join(\", \")}\n        </Typography>\n        {gifUrl && (\n          <div style={styles.iframeWrapper}>\n            <iframe\n              src={gifUrl}\n              width=\"100%\"\n              height=\"300\"\n              allowFullScreen\n              title=\"Finger Gesture Gif\"\n              style={{ border: \"none\" }}\n            ></iframe>\n            <div style={styles.overlay}></div>\n          </div>\n        )}\n      </Box>\n    );\n  },\n  (prevProps, nextProps) => {\n    return (\n      prevProps.gifUrl === nextProps.gifUrl &&\n      prevProps.fingers.join(\",\") === nextProps.fingers.join(\",\")\n    );\n  }\n);\n\nexport default DetectedFingers;\n","const analyzeFingers = (landmarks) => {\n  const fingerJoints = {\n    thumb: [0, 1, 2, 3, 4],\n    indexFinger: [0, 5, 6, 7, 8],\n    middleFinger: [0, 9, 10, 11, 12],\n    ringFinger: [0, 13, 14, 15, 16],\n    littleFinger: [0, 17, 18, 19, 20],\n  };\n\n  let extendedFingers = [];\n\n  for (const finger in fingerJoints) {\n    const joints = fingerJoints[finger];\n    const isExtended = isFingerExtended(joints, landmarks, finger);\n    if (isExtended) {\n      extendedFingers.push(finger);\n    }\n  }\n\n  return extendedFingers;\n};\n\nconst isFingerExtended = (joints, landmarks, fingerName) => {\n  if (fingerName === \"thumb\") {\n    // Special logic for thumb\n    const thumbTip = landmarks[joints[joints.length - 1]];\n    const indexBase = landmarks[5]; // Base of the index finger\n    return thumbTip[0] > indexBase[0]; // Check if thumb tip is to the left of the index base (for right hand)\n  } else {\n    // For other fingers\n    const tip = landmarks[joints[joints.length - 1]];\n    const bottom = landmarks[joints[joints.length - 2]];\n    return tip[1] < bottom[1]; // Y-coordinate comparison for other fingers\n  }\n};\n\nexport default analyzeFingers;\n","const fingerCombinations = {\n  // Individual fingers\n  thumb: \"https://giphy.com/embed/9Ai5dIk8xvBm0\",\n  indexFinger: \"https://giphy.com/embed/U1ZG5CxukCD8nbLBdB\",\n  middleFinger: \"https://giphy.com/embed/g4ODNTnpEBrmsghYtD\",\n  ringFinger: \"https://giphy.com/embed/n7dICavAOkXxHreDb3\",\n  littleFinger: \"https://giphy.com/embed/yxO7pd4zpTz2\",\n\n  // Combinations of two fingers\n  thumb_indexFinger: \"https://giphy.com/embed/88iYsvbegSUn9bSTF8\",\n  thumb_middleFinger: \"https://giphy.com/embed/g4ODNTnpEBrmsghYtD\",\n  thumb_ringFinger: \"https://giphy.com/embed/n7dICavAOkXxHreDb3\",\n  thumb_littleFinger: \"https://giphy.com/embed/KH884zrbUlIqHWKLzE\",\n  indexFinger_middleFinger: \"https://giphy.com/embed/cQNRp4QA8z7B6\",\n  indexFinger_ringFinger: \"https://giphy.com/embed/vKHKDIdvxvN7vTAEOM\",\n  indexFinger_littleFinger: \"https://giphy.com/embed/1qErVv5GVUac8uqBJU\",\n  middleFinger_ringFinger: \"https://giphy.com/embed/nTfdeBvfgzV26zjoFP\",\n  middleFinger_littleFinger: \"https://giphy.com/embed/nTfdeBvfgzV26zjoFP\",\n  ringFinger_littleFinger: \"https://giphy.com/embed/JuX2sNywfh0McD0pLm\",\n\n  // Combinations of three or more fingers\n  thumb_indexFinger_middleFinger: \"https://giphy.com/embed/cHjEtESnmSim3w0CNq\",\n  thumb_indexFinger_ringFinger: \"https://giphy.com/embed/vKHKDIdvxvN7vTAEOM\",\n  thumb_indexFinger_littleFinger: \"https://giphy.com/embed/1qErVv5GVUac8uqBJU\",\n  indexFinger_middleFinger_ringFinger:\n    \"https://giphy.com/embed/UvychT0pHq2VjhHNSF\",\n  indexFinger_middleFinger_littleFinger:\n    \"https://giphy.com/embed/X9XPEqfgU8YSiOMpM6\",\n  middleFinger_ringFinger_littleFinger:\n    \"https://giphy.com/embed/EsFI67hfi6B4hmdeCL\",\n  thumb_middleFinger_ringFinger: \"https://giphy.com/embed/X9XPEqfgU8YSiOMpM6\",\n  thumb_middleFinger_littleFinger: \"https://giphy.com/embed/X9XPEqfgU8YSiOMpM6\",\n  thumb_ringFinger_littleFinger: \"https://giphy.com/embed/X9XPEqfgU8YSiOMpM6\",\n\n  // Combinations of four fingers\n  thumb_indexFinger_middleFinger_ringFinger:\n    \"https://giphy.com/embed/TDMZWt69CBjfMYvZHG\",\n  indexFinger_middleFinger_ringFinger_littleFinger:\n    \"https://giphy.com/embed/09HAftvLeRDew2HWEM\",\n\n  // All fingers\n  all: \"https://giphy.com/embed/3oKIPbOaTdyWc8iUWA\",\n  four: \"https://giphy.com/embed/3oKIPbOaTdyWc8iUWA\",\n\n  // Default case\n  default: \"https://giphy.com/embed/r0q8JfQLzevKR24Anc\",\n};\n\nconst getFingerGestureGif = (detectedFingers) => {\n  // Convert the array of fingers to a Set for efficient lookup\n  if (detectedFingers.length === 5) return fingerCombinations[\"all\"];\n\n  const fingerSet = new Set(detectedFingers);\n\n  // Find a matching key in fingerCombinations\n  for (const key in fingerCombinations) {\n    const keyFingers = key.split(\"_\");\n    if (\n      keyFingers.every((kf) => fingerSet.has(kf)) &&\n      keyFingers.length === fingerSet.size\n    ) {\n      return fingerCombinations[key];\n    }\n  }\n\n  if (detectedFingers.length === 4) return fingerCombinations[\"four\"];\n\n  return null;\n};\n\nexport default getFingerGestureGif;\n","import React, {\n  useRef,\n  useEffect,\n  useState,\n  useCallback,\n  useMemo,\n} from \"react\";\nimport * as tf from \"@tensorflow/tfjs\";\nimport * as handpose from \"@tensorflow-models/handpose\";\nimport Button from \"@mui/material/Button\";\nimport Box from \"@mui/material/Box\";\nimport Typography from \"@mui/material/Typography\";\nimport Grid from \"@mui/material/Grid\";\n\nimport Loader from \"../Loader\";\nimport DetectedFingers from \"./DetectedFingers\";\nimport getExtendedFingers from \"./getExtendedFingers\";\nimport getFingerGestureGif from \"./getFingerGestureGif\";\nimport {\n  readTimer,\n  videoPermissionDeniedMessage,\n  detectionNotice,\n} from \"../../config/fun\";\n\nconst styles = {\n  root: {\n    width: \"100%\",\n    marginTop: 15,\n  },\n  video: {\n    transform: \"scaleX(-1)\",\n    width: \"80%\", // Reduced default width\n    maxHeight: \"300px\", // Reduced default max height\n    borderRadius: \"5px\",\n    \"@media (max-width: 768px)\": {\n      // Media query for mobile devices\n      width: \"100%\", // Full width on small screens\n      objectFit: \"cover\", // Cover to zoom in\n      height: \"300px\", // Fixed height to maintain aspect ratio\n    },\n  },\n  noticeWrapper: {\n    textAlign: \"center\",\n    marginTop: 5,\n    \"@media (max-width: 768px)\": {\n      marginTop: 0,\n    },\n  },\n};\n\nconst HandGestureDetection = () => {\n  const videoRef = useRef();\n  const streamRef = useRef();\n  const detectionTimeoutRef = useRef();\n\n  const [model, setModel] = useState(null);\n  const [permissionDenied, setPermissionDenied] = useState(false);\n  const [isDetectionStarted, setIsDetectionStarted] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const [detectedFingers, setDetectedFingers] = useState([]);\n  const [currentGifUrl, setCurrentGifUrl] = useState(null);\n  const [isVideoReady, setIsVideoReady] = useState(true); // New state for tracking video readiness\n\n  const detectedFingersMemo = useMemo(\n    () => detectedFingers,\n    [detectedFingers.join(\",\")]\n  );\n  const newGifEmbedUrl = useMemo(\n    () => getFingerGestureGif(detectedFingersMemo),\n    [detectedFingersMemo]\n  );\n\n  useEffect(() => {\n    if (newGifEmbedUrl !== currentGifUrl) {\n      setCurrentGifUrl(newGifEmbedUrl);\n    }\n  }, [newGifEmbedUrl, currentGifUrl]);\n\n  useEffect(() => {\n    const loadModel = async () => {\n      try {\n        setIsLoading(true);\n        const loadedModel = await handpose.load();\n        setModel(loadedModel);\n      } catch (error) {\n        console.error(\"Failed to load model: \", error);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    loadModel();\n  }, []);\n\n  const startVideo = useCallback(async () => {\n    try {\n      setIsLoading(true);\n      setIsVideoReady(false); // Set video readiness to false\n      const stream = await navigator.mediaDevices.getUserMedia({ video: true });\n      streamRef.current = stream;\n      videoRef.current.srcObject = stream;\n      videoRef.current.onloadedmetadata = () => {\n        videoRef.current.play();\n        setIsDetectionStarted(true);\n        setPermissionDenied(false);\n        setIsVideoReady(true); // Set video readiness to true\n      };\n    } catch (error) {\n      console.error(\"Error accessing the webcam: \", error);\n      setPermissionDenied(true);\n    } finally {\n      setIsLoading(false);\n    }\n  }, []);\n\n  const stopVideo = useCallback(() => {\n    streamRef.current?.getTracks().forEach((track) => track.stop());\n    clearTimeout(detectionTimeoutRef.current);\n    setIsDetectionStarted(false);\n    setDetectedFingers([]);\n  }, []);\n\n  const detect = useCallback(async () => {\n    if (videoRef.current && model && isDetectionStarted) {\n      const predictions = await model.estimateHands(videoRef.current);\n      if (predictions.length > 0) {\n        const fingers = getExtendedFingers(predictions[0].landmarks);\n        setDetectedFingers(fingers);\n      } else {\n        setDetectedFingers([]);\n      }\n      detectionTimeoutRef.current = setTimeout(detect, readTimer || 1000);\n    }\n  }, [model, isDetectionStarted]);\n\n  useEffect(() => {\n    if (model && isDetectionStarted) {\n      detect();\n    }\n    return () => clearTimeout(detectionTimeoutRef.current);\n  }, [model, isDetectionStarted, detect]);\n\n  // Separate component for permission notice\n  const PermissionNotice = () => {\n    if (!permissionDenied) return null;\n    return (\n      <Typography color=\"error\">{videoPermissionDeniedMessage}</Typography>\n    );\n  };\n\n  return (\n    <Box sx={styles.root}>\n      <Grid container spacing={2} justifyContent=\"center\" alignItems=\"center\">\n        <Grid item xs={12} md={6} align=\"center\">\n          {!isDetectionStarted && !permissionDenied && (\n            <Button variant=\"contained\" onClick={startVideo}>\n              Start Gesture Detection\n            </Button>\n          )}\n          <PermissionNotice />\n          {(isLoading || !isVideoReady) && <Loader />}\n          <video\n            ref={videoRef}\n            style={styles.video}\n            hidden={!isDetectionStarted}\n            playsInline\n          />\n        </Grid>\n        {isDetectionStarted && (\n          <>\n            <Grid item xs={12} md={6} sx={{ textAlign: \"center\" }}>\n              <>\n                <DetectedFingers\n                  fingers={detectedFingersMemo}\n                  gifUrl={currentGifUrl}\n                />\n              </>\n            </Grid>\n            <Grid item xs={12} sx={styles.noticeWrapper}>\n              <Box sx={{ marginBottom: 2 }}>\n                <Button variant=\"contained\" onClick={stopVideo}>\n                  Stop Magic\n                </Button>\n              </Box>\n              <Typography variant=\"subtitle1\">{detectionNotice}</Typography>\n            </Grid>\n          </>\n        )}\n      </Grid>\n    </Box>\n  );\n};\n\nexport default HandGestureDetection;\n","import React, { useState } from \"react\";\nimport IconButton from \"@mui/material/IconButton\";\nimport InfoIcon from \"@mui/icons-material/Info\";\nimport Dialog from \"@mui/material/Dialog\";\nimport DialogTitle from \"@mui/material/DialogTitle\";\nimport DialogContent from \"@mui/material/DialogContent\";\nimport DialogContentText from \"@mui/material/DialogContentText\";\nimport DialogActions from \"@mui/material/DialogActions\";\nimport Button from \"@mui/material/Button\";\nimport Box from \"@mui/material/Box\";\n\nimport HandGesture from \"../components/HandGesture\";\nimport { funActiviyPrivacyNotice } from \"../config/fun\";\n\nconst styles = {\n  root: {\n    height: \"100vh\",\n  },\n  // move the info icon top right\n  infoIcon: {\n    position: \"absolute\",\n    top: \"12%\",\n    right: 0,\n  },\n};\n\nconst FunPage = () => {\n  const [open, setOpen] = useState(true);\n\n  const handleToggleDialog = () => setOpen(!open);\n\n  return (\n    <Box sx={styles.root} component=\"section\" id=\"fun\">\n      <IconButton onClick={handleToggleDialog} sx={styles.infoIcon}>\n        <InfoIcon />\n      </IconButton>\n      <Dialog open={open} onClose={handleToggleDialog}>\n        <DialogTitle>{\"Hand Gesture Detection\"}</DialogTitle>\n        <DialogContent>\n          <DialogContentText sx={{ color: \"#e5e5e5\" }}>\n            {funActiviyPrivacyNotice}\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleToggleDialog} color=\"primary\">\n            Close\n          </Button>\n        </DialogActions>\n      </Dialog>\n      <HandGesture />\n    </Box>\n  );\n};\n\nexport default FunPage;\n"],"names":["detectionNotice","concat","readTimer","module","exports","videoPermissionDeniedMessage","funActiviyPrivacyNotice","styles","iframeWrapper","position","width","height","overlay","top","left","right","bottom","zIndex","cursor","memo","_ref","fingers","gifUrl","_jsxs","Box","children","_jsx","Typography","textAlign","gutterBottom","length","join","style","src","allowFullScreen","title","border","prevProps","nextProps","isFingerExtended","joints","landmarks","fingerName","thumbTip","indexBase","tip","fingerJoints","thumb","indexFinger","middleFinger","ringFinger","littleFinger","extendedFingers","finger","push","fingerCombinations","thumb_indexFinger","thumb_middleFinger","thumb_ringFinger","thumb_littleFinger","indexFinger_middleFinger","indexFinger_ringFinger","indexFinger_littleFinger","middleFinger_ringFinger","middleFinger_littleFinger","ringFinger_littleFinger","thumb_indexFinger_middleFinger","thumb_indexFinger_ringFinger","thumb_indexFinger_littleFinger","indexFinger_middleFinger_ringFinger","indexFinger_middleFinger_littleFinger","middleFinger_ringFinger_littleFinger","thumb_middleFinger_ringFinger","thumb_middleFinger_littleFinger","thumb_ringFinger_littleFinger","thumb_indexFinger_middleFinger_ringFinger","indexFinger_middleFinger_ringFinger_littleFinger","all","four","default","detectedFingers","fingerSet","Set","key","keyFingers","split","every","kf","has","size","root","marginTop","video","transform","maxHeight","borderRadius","objectFit","noticeWrapper","HandGestureDetection","videoRef","useRef","streamRef","detectionTimeoutRef","model","setModel","useState","permissionDenied","setPermissionDenied","isDetectionStarted","setIsDetectionStarted","isLoading","setIsLoading","setDetectedFingers","currentGifUrl","setCurrentGifUrl","isVideoReady","setIsVideoReady","detectedFingersMemo","useMemo","newGifEmbedUrl","getFingerGestureGif","useEffect","async","loadedModel","handpose","error","console","loadModel","startVideo","useCallback","stream","navigator","mediaDevices","getUserMedia","current","srcObject","onloadedmetadata","play","stopVideo","_streamRef$current","getTracks","forEach","track","stop","clearTimeout","detect","predictions","estimateHands","getExtendedFingers","setTimeout","PermissionNotice","color","sx","Grid","container","spacing","justifyContent","alignItems","item","xs","md","align","Button","variant","onClick","Loader","ref","hidden","playsInline","_Fragment","DetectedFingers","marginBottom","infoIcon","FunPage","open","setOpen","handleToggleDialog","component","id","IconButton","InfoIcon","Dialog","onClose","DialogTitle","DialogContent","DialogContentText","DialogActions","HandGesture"],"sourceRoot":""}