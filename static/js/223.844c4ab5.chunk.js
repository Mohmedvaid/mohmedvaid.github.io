(self.webpackChunkreact_portfolio=self.webpackChunkreact_portfolio||[]).push([[223],{8390:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>C});var n=i(2791),r=i(3400),s=i(5584),c=i(5289),d=i(5661),g=i(9157),l=i(1691),o=i(7123),h=i(4294),m=i(697),a=(i(6089),i(3983)),p=i(890),u=i(1889),x=i(6008),F=i(184);const b=(0,n.memo)((e=>{let{fingers:t,gifUrl:i}=e;return(0,F.jsxs)(m.Z,{children:[(0,F.jsx)(p.Z,{textAlign:"center",gutterBottom:!0,children:0===t.length?"No fingers detected":t.join(", ")}),i&&(0,F.jsx)("iframe",{src:i,width:"100%",height:"300",allowFullScreen:!0,title:"Finger Gesture Gif",style:{border:"none"}})]})}),((e,t)=>e.gifUrl===t.gifUrl&&e.fingers.join(",")===t.fingers.join(","))),f=(e,t,i)=>{if("thumb"===i){const i=t[e[e.length-1]],n=t[5];return i[0]>n[0]}{const i=t[e[e.length-1]],n=t[e[e.length-2]];return i[1]<n[1]}},y=e=>{const t={thumb:[0,1,2,3,4],indexFinger:[0,5,6,7,8],middleFinger:[0,9,10,11,12],ringFinger:[0,13,14,15,16],littleFinger:[0,17,18,19,20]};let i=[];for(const n in t){f(t[n],e,n)&&i.push(n)}return i},j={thumb:"https://giphy.com/embed/9Ai5dIk8xvBm0",indexFinger:"https://giphy.com/embed/U1ZG5CxukCD8nbLBdB",middleFinger:"https://giphy.com/embed/g4ODNTnpEBrmsghYtD",ringFinger:"https://giphy.com/embed/n7dICavAOkXxHreDb3",littleFinger:"https://giphy.com/embed/yxO7pd4zpTz2",thumb_indexFinger:"https://giphy.com/embed/88iYsvbegSUn9bSTF8",thumb_middleFinger:"https://giphy.com/embed/g4ODNTnpEBrmsghYtD",thumb_ringFinger:"https://giphy.com/embed/n7dICavAOkXxHreDb3",thumb_littleFinger:"https://giphy.com/embed/KH884zrbUlIqHWKLzE",indexFinger_middleFinger:"https://giphy.com/embed/cQNRp4QA8z7B6",indexFinger_ringFinger:"https://giphy.com/embed/vKHKDIdvxvN7vTAEOM",indexFinger_littleFinger:"https://giphy.com/embed/1qErVv5GVUac8uqBJU",middleFinger_ringFinger:"https://giphy.com/embed/nTfdeBvfgzV26zjoFP",middleFinger_littleFinger:"https://giphy.com/embed/nTfdeBvfgzV26zjoFP",ringFinger_littleFinger:"https://giphy.com/embed/JuX2sNywfh0McD0pLm",thumb_indexFinger_middleFinger:"https://giphy.com/embed/cHjEtESnmSim3w0CNq",thumb_indexFinger_ringFinger:"https://giphy.com/embed/vKHKDIdvxvN7vTAEOM",thumb_indexFinger_littleFinger:"https://giphy.com/embed/1qErVv5GVUac8uqBJU",indexFinger_middleFinger_ringFinger:"https://giphy.com/embed/UvychT0pHq2VjhHNSF",indexFinger_middleFinger_littleFinger:"https://giphy.com/embed/X9XPEqfgU8YSiOMpM6",middleFinger_ringFinger_littleFinger:"https://giphy.com/embed/EsFI67hfi6B4hmdeCL",thumb_middleFinger_ringFinger:"https://giphy.com/embed/X9XPEqfgU8YSiOMpM6",thumb_middleFinger_littleFinger:"https://giphy.com/embed/X9XPEqfgU8YSiOMpM6",thumb_ringFinger_littleFinger:"https://giphy.com/embed/X9XPEqfgU8YSiOMpM6",thumb_indexFinger_middleFinger_ringFinger:"https://giphy.com/embed/TDMZWt69CBjfMYvZHG",indexFinger_middleFinger_ringFinger_littleFinger:"https://giphy.com/embed/09HAftvLeRDew2HWEM",all:"https://giphy.com/embed/3oKIPbOaTdyWc8iUWA",four:"https://giphy.com/embed/3oKIPbOaTdyWc8iUWA",default:"https://giphy.com/embed/r0q8JfQLzevKR24Anc"},v=e=>{if(5===e.length)return j.all;const t=new Set(e);for(const i in j){const e=i.split("_");if(e.every((e=>t.has(e)))&&e.length===t.size)return j[i]}return 4===e.length?j.four:j.default},_={root:{padding:"20px",width:"100%"},video:{transform:"scaleX(-1)",width:"100%",maxHeight:"400px",margin:"20px"},noticeWrapper:{textAlign:"center",marginTop:5}},Z=()=>{const e=(0,n.useRef)(),t=(0,n.useRef)(),i=(0,n.useRef)(),[r,s]=(0,n.useState)(null),[c,d]=(0,n.useState)(!1),[g,l]=(0,n.useState)(!1),[o,f]=(0,n.useState)(!1),[j,Z]=(0,n.useState)([]),[C,E]=(0,n.useState)(null),S=(0,n.useMemo)((()=>j),[j.join(",")]),U=(0,n.useMemo)((()=>v(S)),[S]);(0,n.useEffect)((()=>{U!==C&&E(U)}),[U,C]),(0,n.useEffect)((()=>{(async()=>{try{f(!0);const e=await a.z();s(e)}catch(e){console.error("Failed to load model: ",e)}finally{f(!1)}})()}),[]);const M=(0,n.useCallback)((async()=>{try{f(!0);const i=await navigator.mediaDevices.getUserMedia({video:!0});t.current=i,e.current.srcObject=i,e.current.onloadedmetadata=()=>{e.current.play(),l(!0),d(!1)}}catch(i){console.error("Error accessing the webcam: ",i),d(!0)}finally{f(!1)}}),[]),k=(0,n.useCallback)((()=>{var e;null===(e=t.current)||void 0===e||e.getTracks().forEach((e=>e.stop())),clearTimeout(i.current),l(!1),Z([])}),[]),T=(0,n.useCallback)((async()=>{if(e.current&&r&&g){const t=await r.estimateHands(e.current);if(t.length>0){const e=y(t[0].landmarks);Z(e)}else Z([]);i.current=setTimeout(T,2e3)}}),[r,g]);(0,n.useEffect)((()=>(r&&g&&T(),()=>clearTimeout(i.current))),[r,g,T]);const D=()=>c?(0,F.jsx)(p.Z,{color:"error",children:"Need video permissions to proceed."}):null;return(0,F.jsx)(m.Z,{sx:_.root,children:(0,F.jsxs)(u.ZP,{container:!0,spacing:2,justifyContent:"center",alignItems:"center",children:[(0,F.jsxs)(u.ZP,{item:!0,xs:12,md:6,align:"center",children:[!g&&!c&&(0,F.jsx)(h.Z,{variant:"contained",onClick:M,children:"Start Magic"}),(0,F.jsx)(D,{}),o&&(0,F.jsx)(x.Z,{}),(0,F.jsx)("video",{ref:e,style:_.video,hidden:!g})]}),g&&(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(u.ZP,{item:!0,xs:12,md:6,sx:{textAlign:"center"},children:(0,F.jsx)(F.Fragment,{children:(0,F.jsx)(b,{fingers:S,gifUrl:C})})}),(0,F.jsxs)(u.ZP,{item:!0,xs:12,sx:_.noticeWrapper,children:[(0,F.jsx)(h.Z,{variant:"contained",onClick:k,children:"Stop Magic"}),(0,F.jsx)(p.Z,{variant:"subtitle1",gutterBottom:!0,children:"Detection runs every 2 seconds for CPU efficiency. Please be patient."})]})]})]})})},C=()=>{const[e,t]=(0,n.useState)(!0),i=()=>t(!e);return(0,F.jsxs)(m.Z,{sx:{height:"100vh"},component:"section",id:"fun",children:[(0,F.jsx)(r.Z,{onClick:i,children:(0,F.jsx)(s.Z,{})}),(0,F.jsxs)(c.Z,{open:e,onClose:i,children:[(0,F.jsx)(d.Z,{children:"Hand Gesture Detection"}),(0,F.jsx)(g.Z,{children:(0,F.jsx)(l.Z,{children:"This is a fun application to detect hand gestures. No data is tracked or saved."})}),(0,F.jsx)(o.Z,{children:(0,F.jsx)(h.Z,{onClick:i,color:"primary",children:"Close"})})]}),(0,F.jsx)(Z,{})]})}},5410:()=>{},8628:()=>{},1601:()=>{},7792:()=>{},4977:()=>{},5042:()=>{}}]);
//# sourceMappingURL=223.844c4ab5.chunk.js.map