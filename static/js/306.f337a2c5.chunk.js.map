{"version":3,"file":"static/js/306.f337a2c5.chunk.js","mappings":"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","sources":["config/fun.js","config/responsiveSizes.js","components/HandGesture/DetectedFingers.jsx","components/HandGesture/getExtendedFingers.js","components/HandGesture/getFingerGestureGif.js","hooks/useIsMobile.jsx","components/HandGesture/index.jsx","pages/Fun.jsx"],"sourcesContent":["const readTimer = 300; // 0.3 seconds\nconst readTimerInSec = readTimer / 1000;\nconst videoPermissionDeniedMessage = `Video camera access needed.`;\nconst detectionNotice = `Detection runs every ${readTimerInSec} second for CPU efficiency. Please be patient.`;\nconst funActiviyPrivacyNotice = `Explore the fun of AI with this Hand Gesture Detection! Just wave your hand in front of the camera to interact with the screen. Experience real-time AI recognition with full privacy â€“ no data is saved or tracked. Enjoy!`;\nconst fingerMap = {\n  indexFinger: \"Index\",\n  middleFinger: \"Middle\",\n  ringFinger: \"Ring\",\n  littleFinger: \"Pinky\",\n  thumb: \"Thumb\",\n};\n\nmodule.exports = {\n  readTimer,\n  videoPermissionDeniedMessage,\n  detectionNotice,\n  funActiviyPrivacyNotice,\n  fingerMap,\n};\n","const mobileSize = \"768px\";\nconst tabletSize = \"992px\";\nconst desktopSize = \"1200px\";\n\nmodule.exports = {\n  mobileSize,\n  tabletSize,\n  desktopSize,\n};\n","import React, { memo } from \"react\";\nimport Box from \"@mui/material/Box\";\nimport Typography from \"@mui/material/Typography\";\nconst { fingerMap } = require(\"../../config/fun\");\n\n// disable interaction on iframe\nconst styles = {\n  iframeWrapper: {\n    position: \"relative\",\n    width: \"100%\",\n    height: \"300px\",\n  },\n  overlay: {\n    position: \"absolute\",\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    zIndex: 1,\n    cursor: \"default\",\n  },\n};\n\nconst DetectedFingers = memo(\n  ({ fingers, gifUrl }) => {\n    return (\n      <Box>\n        <Typography textAlign=\"center\" gutterBottom>\n          {fingers.length === 0\n            ? \"No fingers detected on camera\"\n            : fingers.map((finger, index) => {\n                return (\n                  <span key={index}>\n                    {fingerMap[finger]} {index !== fingers.length - 1 && \", \"}\n                  </span>\n                );\n              })}\n        </Typography>\n        {gifUrl && (\n          <div style={styles.iframeWrapper}>\n            <iframe\n              src={gifUrl}\n              width=\"100%\"\n              height=\"300\"\n              allowFullScreen\n              title=\"Finger Gesture Gif\"\n              style={{ border: \"none\" }}\n            ></iframe>\n            <div style={styles.overlay}></div>\n          </div>\n        )}\n      </Box>\n    );\n  },\n  (prevProps, nextProps) => {\n    return (\n      prevProps.gifUrl === nextProps.gifUrl &&\n      prevProps.fingers.join(\",\") === nextProps.fingers.join(\",\")\n    );\n  }\n);\n\nexport default DetectedFingers;\n","const analyzeFingers = (landmarks) => {\n  const fingerJoints = {\n    thumb: [0, 1, 2, 3, 4],\n    indexFinger: [0, 5, 6, 7, 8],\n    middleFinger: [0, 9, 10, 11, 12],\n    ringFinger: [0, 13, 14, 15, 16],\n    littleFinger: [0, 17, 18, 19, 20],\n  };\n\n  let extendedFingers = [];\n\n  for (const finger in fingerJoints) {\n    const joints = fingerJoints[finger];\n    const isExtended = isFingerExtended(joints, landmarks, finger);\n    if (isExtended) {\n      extendedFingers.push(finger);\n    }\n  }\n\n  return extendedFingers;\n};\n\nconst isFingerExtended = (joints, landmarks, fingerName) => {\n  if (fingerName === \"thumb\") {\n    // Special logic for thumb\n    const thumbTip = landmarks[joints[joints.length - 1]];\n    const indexBase = landmarks[5]; // Base of the index finger\n    return thumbTip[0] > indexBase[0]; // Check if thumb tip is to the left of the index base (for right hand)\n  } else {\n    // For other fingers\n    const tip = landmarks[joints[joints.length - 1]];\n    const bottom = landmarks[joints[joints.length - 2]];\n    return tip[1] < bottom[1]; // Y-coordinate comparison for other fingers\n  }\n};\n\nexport default analyzeFingers;\n","const fingerCombinations = {\n  // Individual fingers\n  thumb: \"https://giphy.com/embed/9Ai5dIk8xvBm0\",\n  indexFinger: \"https://giphy.com/embed/U1ZG5CxukCD8nbLBdB\",\n  middleFinger: \"https://giphy.com/embed/g4ODNTnpEBrmsghYtD\",\n  ringFinger: \"https://giphy.com/embed/n7dICavAOkXxHreDb3\",\n  littleFinger: \"https://giphy.com/embed/yxO7pd4zpTz2\",\n\n  // Combinations of two fingers\n  thumb_indexFinger: \"https://giphy.com/embed/88iYsvbegSUn9bSTF8\",\n  thumb_middleFinger: \"https://giphy.com/embed/g4ODNTnpEBrmsghYtD\",\n  thumb_ringFinger: \"https://giphy.com/embed/n7dICavAOkXxHreDb3\",\n  thumb_littleFinger: \"https://giphy.com/embed/KH884zrbUlIqHWKLzE\",\n  indexFinger_middleFinger: \"https://giphy.com/embed/cQNRp4QA8z7B6\",\n  indexFinger_ringFinger: \"https://giphy.com/embed/vKHKDIdvxvN7vTAEOM\",\n  indexFinger_littleFinger: \"https://giphy.com/embed/1qErVv5GVUac8uqBJU\",\n  middleFinger_ringFinger: \"https://giphy.com/embed/nTfdeBvfgzV26zjoFP\",\n  middleFinger_littleFinger: \"https://giphy.com/embed/nTfdeBvfgzV26zjoFP\",\n  ringFinger_littleFinger: \"https://giphy.com/embed/JuX2sNywfh0McD0pLm\",\n\n  // Combinations of three or more fingers\n  thumb_indexFinger_middleFinger: \"https://giphy.com/embed/cHjEtESnmSim3w0CNq\",\n  thumb_indexFinger_ringFinger: \"https://giphy.com/embed/vKHKDIdvxvN7vTAEOM\",\n  thumb_indexFinger_littleFinger: \"https://giphy.com/embed/1qErVv5GVUac8uqBJU\",\n  indexFinger_middleFinger_ringFinger:\n    \"https://giphy.com/embed/UvychT0pHq2VjhHNSF\",\n  indexFinger_middleFinger_littleFinger:\n    \"https://giphy.com/embed/X9XPEqfgU8YSiOMpM6\",\n  middleFinger_ringFinger_littleFinger:\n    \"https://giphy.com/embed/EsFI67hfi6B4hmdeCL\",\n  thumb_middleFinger_ringFinger: \"https://giphy.com/embed/X9XPEqfgU8YSiOMpM6\",\n  thumb_middleFinger_littleFinger: \"https://giphy.com/embed/X9XPEqfgU8YSiOMpM6\",\n  thumb_ringFinger_littleFinger: \"https://giphy.com/embed/X9XPEqfgU8YSiOMpM6\",\n\n  // Combinations of four fingers\n  thumb_indexFinger_middleFinger_ringFinger:\n    \"https://giphy.com/embed/TDMZWt69CBjfMYvZHG\",\n  indexFinger_middleFinger_ringFinger_littleFinger:\n    \"https://giphy.com/embed/09HAftvLeRDew2HWEM\",\n\n  // All fingers\n  all: \"https://giphy.com/embed/3oKIPbOaTdyWc8iUWA\",\n  four: \"https://giphy.com/embed/3oKIPbOaTdyWc8iUWA\",\n\n  // Default case\n  default: \"https://giphy.com/embed/r0q8JfQLzevKR24Anc\",\n};\n\nconst getFingerGestureGif = (detectedFingers) => {\n  // Convert the array of fingers to a Set for efficient lookup\n  if (detectedFingers.length === 5) return fingerCombinations[\"all\"];\n\n  const fingerSet = new Set(detectedFingers);\n\n  // Find a matching key in fingerCombinations\n  for (const key in fingerCombinations) {\n    const keyFingers = key.split(\"_\");\n    if (\n      keyFingers.every((kf) => fingerSet.has(kf)) &&\n      keyFingers.length === fingerSet.size\n    ) {\n      return fingerCombinations[key];\n    }\n  }\n\n  if (detectedFingers.length === 4) return fingerCombinations[\"four\"];\n\n  return fingerCombinations[\"default\"];\n};\n\nexport default getFingerGestureGif;\n","import useMediaQuery from \"@mui/material/useMediaQuery\";\nimport { mobileSize } from \"../config/responsiveSizes\";\n\n/**\n * Custom hook to determine if the current screen is a mobile viewport.\n * By default, checks against a width of 768px.\n * @returns {boolean} True if the screen width is less than 768px.\n */\nexport const useIsMobile = () => {\n  const isMobile = useMediaQuery(`(max-width:${mobileSize})`);\n  return isMobile;\n};\n","import React, {\n  useRef,\n  useEffect,\n  useState,\n  useCallback,\n  useMemo,\n} from \"react\";\nimport * as tf from \"@tensorflow/tfjs\"; // needed for handpose\nimport * as handpose from \"@tensorflow-models/handpose\";\nimport Button from \"@mui/material/Button\";\nimport Box from \"@mui/material/Box\";\nimport Typography from \"@mui/material/Typography\";\nimport Grid from \"@mui/material/Grid\";\n\nimport Loader from \"../Loader\";\nimport DetectedFingers from \"./DetectedFingers\";\nimport getExtendedFingers from \"./getExtendedFingers\";\nimport getFingerGestureGif from \"./getFingerGestureGif\";\nimport {\n  readTimer,\n  videoPermissionDeniedMessage,\n  detectionNotice,\n} from \"../../config/fun\";\nimport { useIsMobile } from \"../../hooks/useIsMobile\";\n\nconst HandGestureDetection = () => {\n  const videoRef = useRef();\n  const streamRef = useRef();\n  const detectionTimeoutRef = useRef();\n  const isMobile = useIsMobile();\n  let styles = {\n    root: {\n      width: \"100%\",\n      marginTop: 15,\n    },\n    video: {\n      transform: \"scaleX(-1)\",\n      width: \"100%\", // Full width on small screens\n      maxHeight: \"300px\", // Reduced default max height\n      borderRadius: \"5px\",\n    },\n    noticeWrapper: {\n      textAlign: \"center\",\n      marginTop: 5,\n      \"@media (maxWidth: 768px)\": {\n        marginTop: 0,\n      },\n    },\n  };\n\n  if (isMobile) {\n    styles.video = {\n      ...styles.video,\n      objectFit: \"cover\", // Cover to zoom in\n      maxHeight: \"200px\", // Fixed height to maintain aspect ratio\n      width: \"80%\", // Full width on small screens\n    };\n  }\n\n  const [model, setModel] = useState(null);\n  const [permissionDenied, setPermissionDenied] = useState(false);\n  const [isDetectionStarted, setIsDetectionStarted] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const [detectedFingers, setDetectedFingers] = useState([]);\n  const [currentGifUrl, setCurrentGifUrl] = useState(null);\n  const [isVideoReady, setIsVideoReady] = useState(true);\n  const [isModelLoading, setIsModelLoading] = useState(false); // State to track model loading\n\n  const detectedFingersMemo = useMemo(\n    () => detectedFingers,\n    [detectedFingers.join(\",\")]\n  );\n  const newGifEmbedUrl = useMemo(\n    () => getFingerGestureGif(detectedFingersMemo),\n    [detectedFingersMemo]\n  );\n\n  useEffect(() => {\n    if (newGifEmbedUrl !== currentGifUrl) {\n      setCurrentGifUrl(newGifEmbedUrl);\n    }\n  }, [newGifEmbedUrl, currentGifUrl]);\n\n  useEffect(() => {\n    const loadModel = async () => {\n      try {\n        setIsModelLoading(true); // Set model loading to true\n        const loadedModel = await handpose.load();\n        setModel(loadedModel);\n      } catch (error) {\n        console.error(\"Failed to load model: \", error);\n      } finally {\n        setIsModelLoading(false); // Set model loading to false\n      }\n    };\n    loadModel();\n  }, []);\n\n  const startVideo = useCallback(async () => {\n    try {\n      setIsLoading(true);\n      setIsVideoReady(false); // Set video readiness to false\n      const stream = await navigator.mediaDevices.getUserMedia({ video: true });\n      streamRef.current = stream;\n      videoRef.current.srcObject = stream;\n      videoRef.current.onloadedmetadata = () => {\n        videoRef.current.play();\n        setIsDetectionStarted(true);\n        setPermissionDenied(false);\n        setIsVideoReady(true); // Set video readiness to true\n      };\n    } catch (error) {\n      console.error(\"Error accessing the webcam: \", error);\n      setPermissionDenied(true);\n      setIsLoading(false);\n    }\n  }, []);\n\n  const stopVideo = useCallback(() => {\n    streamRef.current?.getTracks().forEach((track) => track.stop());\n    clearTimeout(detectionTimeoutRef.current);\n    setIsDetectionStarted(false);\n    setDetectedFingers([]);\n  }, []);\n\n  const detect = useCallback(async () => {\n    if (isModelLoading) return setIsLoading(true); // If model is loading, set loading to true\n    setIsLoading(false); // If model is loaded, set loading to false\n    if (videoRef.current && model && isDetectionStarted) {\n      const predictions = await model.estimateHands(videoRef.current);\n      if (predictions.length > 0) {\n        const fingers = getExtendedFingers(predictions[0].landmarks);\n        setDetectedFingers(fingers);\n      } else {\n        setDetectedFingers([]);\n      }\n      detectionTimeoutRef.current = setTimeout(detect, readTimer || 1000);\n    }\n  }, [model, isDetectionStarted]);\n\n  useEffect(() => {\n    if (model && isDetectionStarted) {\n      detect();\n    }\n    return () => clearTimeout(detectionTimeoutRef.current);\n  }, [model, isDetectionStarted, detect]);\n\n  // Separate component for permission notice\n  const PermissionNotice = () => {\n    if (!permissionDenied) return null;\n    return (\n      <Typography color=\"error\">{videoPermissionDeniedMessage}</Typography>\n    );\n  };\n\n  return (\n    <Box sx={styles.root}>\n      {(isLoading || !isVideoReady) && !permissionDenied && (\n        <Loader text=\"Preparing AI Model\" />\n      )}\n      <Grid container spacing={2} alignItems=\"end\" justifyContent=\"center\">\n        <Grid item xs={12} style={{ textAlign: \"center\" }}>\n          {!isDetectionStarted && !permissionDenied && (\n            <Button variant=\"contained\" onClick={startVideo}>\n              Start Gesture Detection\n            </Button>\n          )}\n          {isDetectionStarted && !isLoading && (\n            <>\n              <Button variant=\"contained\" onClick={stopVideo} sx={{ mb: 2 }}>\n                Stop Magic\n              </Button>\n              <Typography variant=\"subtitle1\">{detectionNotice}</Typography>\n            </>\n          )}\n        </Grid>\n\n        <Grid item xs={12} style={styles.noticeWrapper}>\n          <PermissionNotice />\n        </Grid>\n\n        <Grid item md={6} xs={12} align=\"center\">\n          <video\n            ref={videoRef}\n            style={styles.video}\n            hidden={!isDetectionStarted || isLoading}\n            playsInline\n          />\n        </Grid>\n\n        {isDetectionStarted && !isLoading && (\n          <Grid item md={6} xs={12}>\n            <DetectedFingers\n              fingers={detectedFingersMemo}\n              gifUrl={currentGifUrl}\n            />\n          </Grid>\n        )}\n      </Grid>\n    </Box>\n  );\n};\n\nexport default HandGestureDetection;\n","import React, { useState } from \"react\";\nimport IconButton from \"@mui/material/IconButton\";\nimport InfoIcon from \"@mui/icons-material/Info\";\nimport Dialog from \"@mui/material/Dialog\";\nimport DialogTitle from \"@mui/material/DialogTitle\";\nimport DialogContent from \"@mui/material/DialogContent\";\nimport DialogContentText from \"@mui/material/DialogContentText\";\nimport DialogActions from \"@mui/material/DialogActions\";\nimport Button from \"@mui/material/Button\";\nimport Box from \"@mui/material/Box\";\n\nimport HandGesture from \"../components/HandGesture\";\nimport { funActiviyPrivacyNotice } from \"../config/fun\";\n\nconst styles = {\n  root: {\n    height: \"100vh\",\n  },\n  // move the info icon top right\n  infoIcon: {\n    position: \"absolute\",\n    top: \"12%\",\n    right: 0,\n  },\n};\n\nconst FunPage = () => {\n  const [open, setOpen] = useState(true);\n\n  const handleToggleDialog = () => setOpen(!open);\n\n  return (\n    <Box sx={styles.root} component=\"section\" id=\"fun\">\n      <IconButton onClick={handleToggleDialog} sx={styles.infoIcon}>\n        <InfoIcon />\n      </IconButton>\n      <Dialog open={open} onClose={handleToggleDialog}>\n        <DialogTitle>{\"Hand Gesture Detection\"}</DialogTitle>\n        <DialogContent>\n          <DialogContentText sx={{ color: \"#e5e5e5\" }}>\n            {funActiviyPrivacyNotice}\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleToggleDialog} color=\"primary\">\n            Close\n          </Button>\n        </DialogActions>\n      </Dialog>\n      <HandGesture />\n    </Box>\n  );\n};\n\nexport default FunPage;\n"],"names":["detectionNotice","concat","readTimer","module","exports","videoPermissionDeniedMessage","funActiviyPrivacyNotice","fingerMap","indexFinger","middleFinger","ringFinger","littleFinger","thumb","mobileSize","tabletSize","desktopSize","require","styles","iframeWrapper","position","width","height","overlay","top","left","right","bottom","zIndex","cursor","memo","_ref","fingers","gifUrl","_jsxs","Box","children","_jsx","Typography","textAlign","gutterBottom","length","map","finger","index","style","src","allowFullScreen","title","border","prevProps","nextProps","join","isFingerExtended","joints","landmarks","fingerName","thumbTip","indexBase","tip","fingerJoints","extendedFingers","push","fingerCombinations","thumb_indexFinger","thumb_middleFinger","thumb_ringFinger","thumb_littleFinger","indexFinger_middleFinger","indexFinger_ringFinger","indexFinger_littleFinger","middleFinger_ringFinger","middleFinger_littleFinger","ringFinger_littleFinger","thumb_indexFinger_middleFinger","thumb_indexFinger_ringFinger","thumb_indexFinger_littleFinger","indexFinger_middleFinger_ringFinger","indexFinger_middleFinger_littleFinger","middleFinger_ringFinger_littleFinger","thumb_middleFinger_ringFinger","thumb_middleFinger_littleFinger","thumb_ringFinger_littleFinger","thumb_indexFinger_middleFinger_ringFinger","indexFinger_middleFinger_ringFinger_littleFinger","all","four","default","detectedFingers","fingerSet","Set","key","keyFingers","split","every","kf","has","size","HandGestureDetection","videoRef","useRef","streamRef","detectionTimeoutRef","root","marginTop","video","transform","maxHeight","borderRadius","noticeWrapper","useMediaQuery","objectFit","model","setModel","useState","permissionDenied","setPermissionDenied","isDetectionStarted","setIsDetectionStarted","isLoading","setIsLoading","setDetectedFingers","currentGifUrl","setCurrentGifUrl","isVideoReady","setIsVideoReady","isModelLoading","setIsModelLoading","detectedFingersMemo","useMemo","newGifEmbedUrl","getFingerGestureGif","useEffect","async","loadedModel","handpose","error","console","loadModel","startVideo","useCallback","stream","navigator","mediaDevices","getUserMedia","current","srcObject","onloadedmetadata","play","stopVideo","_streamRef$current","getTracks","forEach","track","stop","clearTimeout","detect","predictions","estimateHands","getExtendedFingers","setTimeout","PermissionNotice","color","sx","Loader","text","Grid","container","spacing","alignItems","justifyContent","item","xs","Button","variant","onClick","_Fragment","mb","md","align","ref","hidden","playsInline","DetectedFingers","infoIcon","FunPage","open","setOpen","handleToggleDialog","component","id","IconButton","InfoIcon","Dialog","onClose","DialogTitle","DialogContent","DialogContentText","DialogActions","HandGesture"],"sourceRoot":""}